{
  "file_path": ".github/workflows/publish-to-nuget.yml",
  "main_branch_history": [],
  "task_views": {
    "003-fix-rename-directory-operation": {
      "task_id": "003-fix-rename-directory-operation",
      "branch_point": {
        "commit_hash": "d3bab18413d5e9da141030900e9e58760d16dd97",
        "content": "name: Publish to NuGet\n\non:\n  push:\n    tags:\n      - v*\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    env:\n      BUILD_CONFIG: 'Release'\n      SOLUTION: 'Atypical.VirtualFileSystem.sln'\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup .NET SDK\n        uses: actions/setup-dotnet@v4\n        with:\n          dotnet-version: 9.x\n\n      - name: Cache NuGet packages\n        uses: actions/cache@v4\n        with:\n          path: ~/.nuget/packages\n          key: ${{ runner.os }}-nuget-${{ hashFiles('**/packages.lock.json') }}\n          restore-keys: |\n            ${{ runner.os }}-nuget-\n\n      - name: Restore dependencies\n        run: dotnet restore\n\n      - name: Build\n        run: dotnet build $SOLUTION --configuration $BUILD_CONFIG --no-restore\n\n  test:\n    needs: build\n    runs-on: ubuntu-latest\n\n    env:\n      BUILD_CONFIG: 'Release'\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup .NET SDK\n        uses: actions/setup-dotnet@v4\n        with:\n          dotnet-version: 9.x\n\n      - name: Run Test\n        run: dotnet test --configuration $BUILD_CONFIG --no-build --verbosity normal --framework net7.0\n\n  publish:\n    needs: test\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Get Build Version\n        run: |\n          Import-Module .\\build\\GetBuildVersion.psm1\n          Write-Host $Env:GITHUB_REF\n          $version = GetBuildVersion -VersionString $Env:GITHUB_REF\n          echo \"BUILD_VERSION=$version\" | Out-File -FilePath $Env:GITHUB_ENV -Encoding utf-8 -Append\n        shell: pwsh\n\n      - name: Setup .NET SDK\n        uses: actions/setup-dotnet@v4\n        with:\n          dotnet-version: 9.x\n\n      - name: Publish to NuGet\n        if: startsWith(github.ref, 'refs/tags')\n        run: nuget push **\\*.nupkg -Source 'https://api.nuget.org/v3/index.json' -ApiKey ${{secrets.NUGET_API_KEY}}",
        "timestamp": "2026-01-23T16:17:25.409426"
      },
      "worktree_state": {
        "content": "name: Publish to NuGet\n\non:\n  push:\n    tags:\n      - v*\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    env:\n      BUILD_CONFIG: 'Release'\n      SOLUTION: 'Atypical.VirtualFileSystem.sln'\n\n    steps:\n      - uses: actions/checkout@v6\n\n      - name: Setup .NET SDK\n        uses: actions/setup-dotnet@v5\n        with:\n          dotnet-version: 9.x\n\n      - name: Cache NuGet packages\n        uses: actions/cache@v5\n        with:\n          path: ~/.nuget/packages\n          key: ${{ runner.os }}-nuget-${{ hashFiles('**/packages.lock.json') }}\n          restore-keys: |\n            ${{ runner.os }}-nuget-\n\n      - name: Restore dependencies\n        run: dotnet restore\n\n      - name: Build\n        run: dotnet build $SOLUTION --configuration $BUILD_CONFIG --no-restore\n\n  test:\n    needs: build\n    runs-on: ubuntu-latest\n\n    env:\n      BUILD_CONFIG: 'Release'\n\n    steps:\n      - uses: actions/checkout@v6\n\n      - name: Setup .NET SDK\n        uses: actions/setup-dotnet@v5\n        with:\n          dotnet-version: 9.x\n\n      - name: Run Test\n        run: dotnet test --configuration $BUILD_CONFIG --no-build --verbosity normal --framework net7.0\n\n  publish:\n    needs: test\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v6\n\n      - name: Get Build Version\n        run: |\n          Import-Module .\\build\\GetBuildVersion.psm1\n          Write-Host $Env:GITHUB_REF\n          $version = GetBuildVersion -VersionString $Env:GITHUB_REF\n          echo \"BUILD_VERSION=$version\" | Out-File -FilePath $Env:GITHUB_ENV -Encoding utf-8 -Append\n        shell: pwsh\n\n      - name: Setup .NET SDK\n        uses: actions/setup-dotnet@v5\n        with:\n          dotnet-version: 9.x\n\n      - name: Publish to NuGet\n        if: startsWith(github.ref, 'refs/tags')\n        run: nuget push **\\*.nupkg -Source 'https://api.nuget.org/v3/index.json' -ApiKey ${{secrets.NUGET_API_KEY}}",
        "last_modified": "2026-01-23T16:17:25.449668"
      },
      "task_intent": {
        "title": "003-fix-rename-directory-operation",
        "description": "# Fix Rename Directory Operation\n\nFix the known issue with directory rename operations to ensure they work correctly across all scenarios including nested directories and files.\n\n## Rationale\nThis is documented technical debt that affects the reliability of the library. The TODO in DemoCli indicates this is a known issue that needs resolution.\n\n## User Stories\n- As a .NET developer, I want to rename directories reliably so that I can test directory management code\n- As a library user, I expect rename operations to maintain consistency with nested contents\n\n## Acceptance Criteria\n- [ ] Renaming a directory updates all child paths correctly\n- [ ] DirectoryRenamed event contains correct old and new paths\n- [ ] Rename operation is correctly recorded for undo/redo\n- [ ] Renaming works for deeply nested directories\n- [ ] Renaming to an existing directory name throws appropriate exception\n",
        "from_plan": true
      },
      "commits_behind_main": 1,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2026-01-23T16:17:25.419680",
  "last_updated": "2026-01-23T16:17:25.429587"
}