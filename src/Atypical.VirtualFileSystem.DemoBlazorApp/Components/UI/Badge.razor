@* Reusable Badge Component *@

<span class="@CssClass">
    @if (!string.IsNullOrEmpty(Icon))
    {
        <svg class="w-3 h-3 -ml-0.5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="@Icon" />
        </svg>
    }
    @ChildContent
</span>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public string Variant { get; set; } = "gray";
    [Parameter] public string Size { get; set; } = "md";
    [Parameter] public string? Icon { get; set; }

    private string CssClass
    {
        get
        {
            var baseClass = "inline-flex items-center gap-1 font-medium rounded-full";

            var sizeClass = Size switch
            {
                "sm" => "px-2 py-0.5 text-xs",
                "lg" => "px-3 py-1 text-sm",
                _ => "px-2.5 py-0.5 text-xs"
            };

            var variantClass = Variant switch
            {
                "blue" => "bg-blue-100 text-blue-800",
                "green" => "bg-green-100 text-green-800",
                "yellow" => "bg-yellow-100 text-yellow-800",
                "red" => "bg-red-100 text-red-800",
                "purple" => "bg-purple-100 text-purple-800",
                "pink" => "bg-pink-100 text-pink-800",
                "indigo" => "bg-indigo-100 text-indigo-800",
                _ => "bg-gray-100 text-gray-800"
            };

            return $"{baseClass} {sizeClass} {variantClass}";
        }
    }
}
